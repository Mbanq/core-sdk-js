import r from"axios";var a=({message:s,statusCode:e,code:t,requestId:o,originalError:n})=>({name:"CommandError",message:s,statusCode:e,code:t,requestId:o,originalError:n}),d=s=>typeof s=="object"&&s!==null&&"name"in s&&s.name==="CommandError",i=s=>{if(!s||typeof s!="object")return s;let e={...s};if(e.config&&typeof e.config=="object"){let t=e.config;if(t.httpsAgent&&typeof t.httpsAgent=="object"){let o=t.httpsAgent;delete o.sockets,delete o.freeSockets,delete o._sessionCache}}return e},m=s=>{if(r.isAxiosError(s)){let e=s.response?.data?.message,t=s.response?.status?`Request failed with status code ${s.response.status}`:s.message||"Request failed";throw a({message:e||t,statusCode:s.response?.status,code:s.code,requestId:s.response?.headers?.["x-request-id"],originalError:i(s)})}throw s};export{a,d as b,m as c};
