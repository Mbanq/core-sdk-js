import{A as v,B as D,D as L,M as O,N as E,O as G,P as T,R as j,S as M,T as _,U as $,X as F,Y as H,a as I,r as b,s as h,t as R,u as q,w as U,x as A,y as B,z as P}from"./chunk-X5UU2EKK.mjs";var x=m=>{let p=[];if(!m.baseUrl)p.push("baseUrl is required");else if(typeof m.baseUrl!="string")p.push("baseUrl must be a string");else try{new URL(m.baseUrl)}catch{p.push("baseUrl must be a valid URL")}return m.axiosConfig?.timeout!==void 0&&(typeof m.axiosConfig.timeout!="number"||m.axiosConfig.timeout<0)&&p.push("timeout must be a positive number"),p};var te=m=>{let p=x(m);if(p.length>0)throw I({message:`Invalid configuration: ${p.join(", ")}`,code:"invalid_config"});let C=async(o,t,n)=>{if(m.middlewares)for(let e of m.middlewares)o==="before"&&e.before?await e.before(t):o==="after"&&e.after?await e.after(t,n):o==="onError"&&e.onError&&await e.onError(t,n)},f={...m},a=async o=>{try{await C("before",o);let t=await o.execute(f);return await C("after",o,t),t}catch(t){throw await C("onError",o,t),t}},w=o=>{let t=o||f.tenantId;return{user:{getDetail:()=>{let n=H({tenantId:t});return{execute:async()=>a(n)}}},payment:{create:n=>{let e=b({payment:n,tenantId:t});return{execute:async()=>a(e)}},get:n=>{let e=h({id:n,tenantId:t});return{execute:async()=>a(e)}},update:(n,e)=>{let s=R({id:n,payment:e,tenantId:t});return{execute:async()=>a(s)}},delete:n=>{let e=U({id:n,tenantId:t});return{execute:async()=>a(e)}},list:()=>{let e=q({tenantId:t}).list(),s=u=>({where:u.where,limit:i=>{let d=u.limit(i);return s(d)},offset:i=>{let d=u.offset(i);return s(d)},all:()=>{let i=u.all();return s(i)},execute:async()=>{let i=u.execute();return a(i)}});return s(e)}},client:{create:n=>{let e=v({clientData:n,tenantId:t});return{execute:async()=>a(e)}},get:n=>{let e=A({clientId:n,tenantId:t});return{execute:async()=>a(e)}},update:(n,e)=>{let s=B({clientId:n,updates:e,tenantId:t});return{execute:async()=>a(s)}},updateDocumentRecord:(n,e)=>{let s=P({clientId:n,identifierId:e.id,updates:e,tenantId:t});return{execute:async()=>a(s)}},delete:n=>{let e=L({clientId:n,tenantId:t});return{execute:async()=>a(e)}},for:n=>{let e=parseInt(n,10),u=T({clientId:e,tenantId:t}).list(),d=$({clientId:e,tenantId:t}).list(),N=async()=>{let r=u.execute();return(await a(r))?.savingsAccounts||[]},y=r=>({where:c=>{let l=r.where?r.where(c):r;return{eq:Q=>{let g=l.eq?l.eq(Q):l;return{where:k=>y(g).where(k),list:()=>y(g)}}}},execute:async()=>{let c=r.execute();return a(c)}});return{accounts:{get:r=>({execute:async()=>{let c=O({id:r,tenantId:t});return a(c)}}),getFromList:r=>({execute:async()=>(await N()).find(l=>l.id===r)||null}),update:(r,c)=>{let l=E({clientId:e,accountId:r,updates:c,tenantId:t});return{execute:async()=>a(l)}},delete:r=>{let c=G({accountId:r,tenantId:t});return{execute:async()=>a(c)}},where:r=>y(u).where(r),list:()=>y(u)},recipients:{create:r=>{let c=M({clientId:e,recipient:r,tenantId:t});return{execute:async()=>a(c)}},get:r=>({execute:async()=>{let c=j({clientId:e,id:r,tenantId:t});return a(c)}}),update:(r,c)=>{let l=F({id:r,input:c,tenantId:t});return{execute:async()=>a(l)}},delete:r=>{let c=_({clientId:e,recipientId:r,tenantId:t});return{execute:async()=>a(c)}},where:r=>y(d).where(r),list:()=>y(d)}}},list:()=>{let e=D({tenantId:t}).list(),s=u=>({where:u.where,limit:i=>{let d=u.limit(i);return s(d)},offset:i=>{let d=u.offset(i);return s(d)},all:()=>{let i=u.all();return s(i)},execute:async()=>{let i=u.execute();return a(i)}});return s(e)}}}};return{setConfig:o=>{f=o},updateConfig:o=>{let t={...f,...o,axiosConfig:{...f.axiosConfig,...o.axiosConfig,headers:{...f.axiosConfig?.headers,...o.axiosConfig?.headers}}},n=x(t);if(n.length>0)throw I({message:`Invalid configuration: ${n.join(", ")}`,code:"invalid_config"});f=t},resetConfig:()=>{f=m},request:a,tenant:o=>w(o),...w()}};export{te as a};
